## zookeeper的应用场景

zookeeper能实现哪些场景

**订阅发布**：使用zookeeper的watcher监听机制；统一配置管理（disconf），实现配置信息的集中管理和数据的动态更新；

配置中心的实现方式有两种，一种是服务器端push，一种是客户端实现一个http长连接做长轮询pull。

zookeeper实现配置中心的方式，客户端向zookeeper服务器端注册自己需要关注的节点，一旦节点数据发生变化，那么服务器端就会发送watcher事件通知。客户端收到通知后，主动到服务器端获取更新后的数据。

适用的配置数据特点：

1. 数据量比较小
2. 数据内容在运行时会发生动态变更
3. 集群中的各个机器共享配置



**分布式锁**：使用了有序临时节点和watcher监听机制

当多个进程间需要共享同一个资源时，就需要用到分布式锁，分布式锁常见的实现方式有：redis，数据库，还有就是zookeeper。

zookeeper实现一个排他锁，多个进程会竞争在同一个路径下生成相同名称的子临时节点，当某一个客户端拿到锁后（即创建好临时节点），其他进程就无法再在zookeeper上创建一个相同名称的临时节点（即进入等待状态）；

zookeeper实现一个共享锁，多个进程会在同一个路径下生成有序临时子节点



**负载均衡**：将请求、数据分摊到多个计算机单元上，通过zookeeper节点中存储需要负载均衡的机器ip，然后通过适合的算法将请求或者数据分摊到多个计算服务器上。

ID生成器

分布式队列

统一命名服务

master选举

