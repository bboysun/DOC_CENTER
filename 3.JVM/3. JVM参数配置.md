## JVM参数配置

**堆的配置参数**：

-Xms设置的是堆的最小空间大小

-Xmx设置的是堆的最大空间大小

-Xmn设置年轻代的大小



**Metaspace配置参数**：

-XX:NewSize设置新生代最小空间大小

-XX:MaxNewSize设置新生代最大空间大小

-XX:PermSize设置永久代最小空间大小

-XX:MaxPermSize设置永久代最大空间大小

-XX:+UseParallelGC选择垃圾回收器为并行回收器，此配置仅对年轻代有效

-XX:ParallelGCThreads=20配置并行回收器的线程数量，即同时多少个线程一起进行垃圾回收，该值最好配置与处理器数目相等



**java虚拟机栈的配置参数**：

-Xss设置每个线程的栈大小



**举个栗子**：

`java -Xmx3550m -Xms3550m -Xmn2g -Xss128k`



**需要注意的点**：

1. 最大堆内存（Xmx）和最小堆内存（Xms）最好设置一样大，一样大可以有效的避免垃圾回收后JVM重新分配内存的开销。
2. 线程栈内存（Xss）JDK5.0以后默认给每个线程分配1M的栈内存。保证线程数量避免栈内存溢出。
3. 年轻代内存（Xmn），整个堆内存 = 年轻代内存 + 年老代内存 + 持久代内存。持久代一般固定为64m（持久代在JDK1.8已经被取消了，不必过多关注），所以增大年轻代的同时就会减少年老代的内存大小，此值对系统的性能影响较大，官方推荐配置为整个堆内存的3/8



